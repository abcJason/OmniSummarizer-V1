# 檔名：LangGraph懶人包 - 打造智慧代理人執行時間

**一言以蔽之**：LangGraph 是一個建立於 LangChain 之上的新函式庫，旨在簡化建立具有可自訂迴圈的智慧代理人（Agent）執行時間（Agent Runtime）的過程。

**關鍵重點**：

*   LangGraph 讓代理人執行時間（Agent Runtime）更具彈性與動態性，特別是支援「迴圈」（Cycles）。
*   它擴展了 LangChain 的能力，讓開發者可以更自由地客製化代理人的決策與執行流程。
*   LangGraph 引入了兩種主要的代理人執行時間：標準的 `AgentExecutor` 和專為聊天模型設計的 `ChatAgentExecutor`。
*   `ChatAgentExecutor` 透過訊息列表來管理代理人狀態，更符合現代聊天模型的特性。
*   未來將展示如何透過 LangGraph 修改代理人執行時間，例如加入人工介入或強制工具調用順序。

**詳細摘要**：

LangGraph 是一個新推出的函式庫，它建立在 LangChain 的基礎之上，主要目標是讓創建智慧代理人（Agent）及其執行時間（Agent Runtime）變得更加容易。

在 LangChain 中，代理人被定義為一個由語言模型驅動的系統，能夠自主決定要採取的行動。而代理人執行時間則負責運行這個代理人，不斷重複「代理人決定行動 -> 執行行動 -> 記錄觀察結果」的循環，直到代理人認為任務完成。

過去，LangChain 透過 LangChain Expression Language（LCEL）讓客製化代理人本身變得更容易。而 LangGraph 的重點則在於客製化「代理人執行時間」。過去的執行時間通常是固定模式的，LangGraph 則旨在提供更多元、更靈活、更動態的創建執行時間的方式。

LangGraph 最重要的創新之一是引入了「迴圈」（Cycles）的概念。由於代理人執行時間的核心就是讓代理人在一個循環中運行，因此能夠處理迴圈至關重要。LangChain Expression Language 和其他類似的框架通常是非迴圈的，而 LangGraph 正是為了支援這種迴圈式的代理人執行時間而設計。

為了讓使用者快速上手，LangGraph 引入了兩種主要的代理人執行時間：

1.  **Agent Executor**：這是對 LangChain 中原有 `AgentExecutor` 的重塑，提供類似的功能。
2.  **Chat Agent Executor**：這個執行時間專門為聊天模型設計。它將代理人狀態表示為一個訊息列表，並以訊息列表作為輸出。這樣做是因為許多新一代的聊天模型，例如在函數調用時，會將函數參數或響應嵌入到訊息中，因此以訊息列表來管理狀態非常自然。

此外，LangGraph 也將會展示許多進階客製化選項，例如如何在代理人執行時間中加入「人工介入」（Human in the loop），或者強制代理人優先使用特定的工具，以及其他更多令人興奮的功能。