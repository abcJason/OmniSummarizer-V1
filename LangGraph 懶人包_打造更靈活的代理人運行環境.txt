# 檔名：LangGraph 懶人包：打造更靈活的代理人運行環境

**一言以蔽之**：LangGraph 是一個強大的新函式庫，能讓開發者更輕鬆地建立和自訂基於大型語言模型的代理人（Agents）及其運行流程。

**關鍵重點**：

*   LangGraph 是在 LangChain 的基礎上發展出來的，大幅簡化了創建代理人及其運行時的複雜性。
*   它允許開發者以更靈活、動態的方式定義代理人的運行循環，尤其強調「循環（Cycles）」的概念。
*   引入了兩種新的代理人運行時（Agent Runtimes）：標準的 `AgentExecutor` 和專為聊天模型設計的 `Chat Agent Executor`。
*   開發者可以透過修改基礎運行時，實現例如強制工具調用、加入人工審核等進階功能。

**詳細摘要**：

LangGraph 的核心目的是讓代理人的開發與運行更加直觀和彈性。過去，LangChain 的代理人（Agents）是由一個由語言模型驅動的系統，它能自行決定要採取的行動。而代理人運行時（Agent Runtime）則負責不斷地執行這個代理人，使其在循環中運行，直到完成任務。

LangGraph 在此基礎上，讓創建和自訂代理人運行時變得更容易。它特別關注「循環」的概念，這對於需要反覆思考、規劃或與環境互動的代理人至關重要。LangGraph 允許開發者以更動態的方式來定義代理人的運行邏輯，而不僅僅是固定的腳本。

為了實現這一點，LangGraph 引入了兩種主要的代理人運行時：

1.  **Agent Executor**：這是一個重新實現的版本，與 LangChain 中原有的 `AgentExecutor` 非常相似，但利用 LangGraph 的架構來實現。
2.  **Chat Agent Executor**：這個運行時專為處理以聊天模型為基礎的代理人而設計。它將代理人的狀態表示為訊息列表，並將代理人的回應也作為訊息列表返回。這對於處理像 function calling 這種常被聊天模型以訊息格式呈現的功能非常有幫助。

LangGraph 的一大優勢在於其高度的可擴展性。開發者可以輕易地修改這些基礎運行時，以實現更複雜的行為。例如，可以強制代理人在運行時必須先調用某個特定工具，或者在運行循環中加入人工審核的節點，增加一層控制。這使得 LangGraph 成為打造更智慧、更客製化代理人的理想工具。